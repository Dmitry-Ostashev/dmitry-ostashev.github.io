{"pageProps":{"content":{"html":"        <h1>Introducing Multi-window Tests (Beta)</h1>\n\n\n<p>Modern web apps often launch new browser windows to authenticate users through third-party websites or display additional interactive content.</p>\n<p>TestCafe v1.9.0 introduces partial support for multi-window tests. You can now use client-side calls to open and close browser windows. The updated API includes additional window management methods. During the ‘beta’ stage, this functionality is only enabled in local instances of Chrome and Firefox. Keep in mind that this feature is not ready for use in production environments. Both the syntax and capabilities are subject to change.</p>\n\n<h2 id=\"client-side-window-events__$\"><a class=\"anchor-fix\" href=\"#client-side-window-events\" id=\"client-side-window-events\"></a>Client-side window events<a class=\"anchor-hash\" href=\"#client-side-window-events\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"><path d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"></path></svg></a></h2>\n<p>The TestCafe browser automation driver detects and automatically activates newly launched windows. After the content is loaded, and all asynchronous requests are resolved, the test continues in the new window. When that window is closed, TestCafe switches back to the parent window and resumes the test.</p>\n<p>The sample code below demonstrates an OAuth login scenario. Lines <code>8</code> through <code>10</code> run in the external OAuth window.</p>\n<pre><code class=\"lang-js\">fixture(&#39;Login via &lt;Service Name&gt;&#39;)\n    .page(&#39;https://my-page&#39;);\n\ntest(&#39;Should log in via &lt;Service Name&gt;&#39;, async t =&gt; {\n    await t\n        .click(&#39;#login-popup&#39;)\n\n        .typeText(&#39;#username&#39;, &#39;username&#39;)\n        .typeText(&#39;#pass&#39;, &#39;mySecret&#39;)\n        .click(&#39;#submit&#39;)\n\n        .expect(Selector(&#39;#user&#39;).textContent).eql(&#39;Hello %Username%!&#39;); //Make sure we are logged in\n});\n</code></pre><p><img src=\"/images/blog/2020-8-26-multi-window-scheme-auto-switching.svg\" alt=\"A scheme that illustrates automatic window switching\"></p>\n<p>You do not need to write extra code to create basic multi-window tests. When you need to arbitrarily open, close and switch between windows, use the <a class=\"xref\" href=\"/documentation/402841/guides/intermediate-guides/multiple-browser-windows\">TestCafe API</a>.</p>\n<h2 id=\"switch-between-windows__$\"><a class=\"anchor-fix\" href=\"#switch-between-windows\" id=\"switch-between-windows\"></a>Switch between windows<a class=\"anchor-hash\" href=\"#switch-between-windows\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"><path d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"></path></svg></a></h2>\n<p>The <a class=\"xref\" href=\"/documentation/402678/reference/test-api/testcontroller/switchtopreviouswindow\">t.switchToPreviousWindow</a> method activates the last active window. If you only have two windows open, this method will cycle between them. This is useful in a variety of scenarios.</p>\n<p>Imagine, for example, that you’re testing a real estate listings website. You want to make sure that once a new property is added, it appears in the window with all available listings. The following test implements this scenario:</p>\n<pre><code class=\"lang-js\">fixture(&#39;Property List&#39;)\n    .page(&#39;https://url.com/properties&#39;); // Open the listings page\n\ntest(&#39;Check the property list&#39;, async t =&gt; {\n    await t\n        .openWindow(&#39;https://url.com/addnewproperty&#39;) // Open the &#39;add new property&#39; page in a new window\n        .click(&#39;#make-public&#39;) // Publish the listing\n\n        .switchToPreviousWindow() // Go back to the listings page\n        .expect(Selector(&#39;.property-list li&#39;).textContent).eql(&#39;New &#39;); // Check if the new listing is displayed\n});  \n</code></pre><p><img src=\"/images/blog/2020-8-26-multi-window-scheme-switchtowindow-scenario.svg\" alt=\"A scheme that illustrates switching between windows\"></p>\n<h2 id=\"manage-multiple-windows__$\"><a class=\"anchor-fix\" href=\"#manage-multiple-windows\" id=\"manage-multiple-windows\"></a>Manage multiple windows<a class=\"anchor-hash\" href=\"#manage-multiple-windows\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"><path d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"></path></svg></a></h2>\n<p>Test scenarios with more than two open windows require more precision. The <a class=\"xref\" href=\"/documentation/402677/reference/test-api/testcontroller/switchtowindow\">t.switchToWindow</a> method can activate any open browser window if you pass a window descriptor object or a predicate function with the window description.</p>\n<p>To obtain a window descriptor, call the <a class=\"xref\" href=\"/documentation/402699/reference/test-api/testcontroller/getcurrentwindow\">t.getCurrentWindow</a> method or save the return value when you open a new window.</p>\n<pre><code class=\"lang-js\">const windowDesc = await t.openWindow(&#39;https://devexpress.github.io/testcafe/&#39;);\nawait t.switchToWindow(windowDesc);\n</code></pre><p>The predicate function must contain a description of the window’s URL or title. The URL object has the same structure as its <a href=\"https://nodejs.org/api/url.html\" target=\"_blank\">Node.JS counterpart<span class=\"svg-no-wrap\">&#65279;<svg fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"></path></svg></span></a>.</p>\n<pre><code class=\"lang-js\">await t\n    .openWindow(&#39;https://devexpress.github.io/testcafe/&#39;)\n    .switchToWindow(({url}) =&gt; url.pathname === &#39;/testcafe&#39;);\n</code></pre><p>Imagine you are debugging a task manager app. To ensure that both the task list and the notification feed are updated in real time, use the <a class=\"xref\" href=\"/documentation/402677/reference/test-api/testcontroller/switchtowindow\">t.switchToWindow</a> method.</p>\n<pre><code class=\"lang-js\">fixture(&#39;Tasks View&#39;)\n    .page(&#39;https://url.com/add-task&#39;);  \n\ntest(&#39;Add a new task&#39;, async t =&gt; {  \n    await t\n        .openWindow(&#39;https://url.com/tasks&#39;) // Open a new window with the task list\n        .openWindow(&#39;https://url.com/feed&#39;) // Open the notification feed\n\n        .switchToWindow(({url}) =&gt; url.pathname === &#39;/add-task&#39;) // Go back to the new task form\n        .typeText(&#39;#task-description&#39;, &#39;Redesign the landing page by 1 Feb&#39;) // Fill in the new task form\n        .click(&#39;#submit-task&#39;) // Submit the task\n\n        .switchToWindow(({url}) =&gt; url.pathname === &#39;/tasks&#39;) // Switch back to the task list\n        .expect(Selector(&#39;.task-item&#39;).count).eql(1) // Check if the new task is displayed\n\n        .switchToWindow(({url}) =&gt; url.pathname === &#39;feed&#39;) // Switch to the notification feed\n        .expect(Selector(&#39;.message&#39;).textContent).eql(&#39;Redesign the landing page by 1 Feb&#39;); // Check for the corresponding notification\n});  \n</code></pre><p><img src=\"/images/blog/2020-8-26-multi-window-scheme-task-manager.svg\" alt=\"A scheme that illustrates the task manager example\"></p>\n<h2 id=\"api-overview__$\"><a class=\"anchor-fix\" href=\"#api-overview\" id=\"api-overview\"></a>API overview<a class=\"anchor-hash\" href=\"#api-overview\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"><path d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"></path></svg></a></h2>\n<p>The updated API includes a number of useful window management methods.</p>\n<ul>\n<li><a class=\"xref\" href=\"/documentation/402694/reference/test-api/testcontroller/openwindow\">t.openWindow(url)</a> opens a new window and points it to the specified URL.  </li>\n<li><a class=\"xref\" href=\"/documentation/402699/reference/test-api/testcontroller/getcurrentwindow\">t.getCurrentWindow()</a> obtains the window descriptor that corresponds to the active window.</li>\n<li><a class=\"xref\" href=\"/documentation/402677/reference/test-api/testcontroller/switchtowindow#tswitchtowindowwindow\">t.switchToWindow(windowDescriptor)</a> activates the window that corresponds to the window descriptor.</li>\n<li><a class=\"xref\" href=\"/documentation/402677/reference/test-api/testcontroller/switchtowindow#tswitchtowindowpredicate\">t.switchToWindow(predicate)</a> uses the predicate function to find a matching window, and activates it. The predicate can include the window’s title and URL.</li>\n<li><a class=\"xref\" href=\"/documentation/402679/reference/test-api/testcontroller/switchtoparentwindow\">t.switchToParentWindow()</a> activates the parent of the active window.</li>\n<li><a class=\"xref\" href=\"/documentation/402678/reference/test-api/testcontroller/switchtopreviouswindow\">t.switchToPreviousWindow()</a> activates the last active window.</li>\n<li><a class=\"xref\" href=\"/documentation/402709/reference/test-api/testcontroller/closewindow\">t.closeWindow()</a> closes the active window.</li>\n<li><a class=\"xref\" href=\"/documentation/402709/reference/test-api/testcontroller/closewindow\">t.closeWindow(windowDescriptor)</a> closes the window that corresponds to the window descriptor.</li>\n</ul>\n<h2 id=\"try-the-new-api-and-let-us-know-what-you-think__$\"><a class=\"anchor-fix\" href=\"#try-the-new-api-and-let-us-know-what-you-think\" id=\"try-the-new-api-and-let-us-know-what-you-think\"></a>Try the new API and let us know what you think<a class=\"anchor-hash\" href=\"#try-the-new-api-and-let-us-know-what-you-think\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"><path d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"></path></svg></a></h2>\n<p>To try the functionality described in this article:</p>\n<ul>\n<li>Install TestCafe version 1.9.0 or later;</li>\n<li>Create a test scenario that incorporates more than one browser window;</li>\n<li>Include the window management methods from this article in the test.</li>\n</ul>\n<p>The TestCafe team is proud to create API that realistically model user behavior. If you find that the new window management capabilities can be modified to better serve your needs, please let us know. Submit your feedback and bug reports to <a href=\"https://github.com/DevExpress/testcafe/issues/new/choose\" target=\"_blank\">our GitHub repository<span class=\"svg-no-wrap\">&#65279;<svg fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"></path></svg></span></a>.</p>\n<p>Refer to the TestCafe help topics for additional information about these methods.</p>\n","headers":[{"title":"Client-side window events","tagName":"h2","id":"client-side-window-events","lvl":2},{"title":"Switch between windows","tagName":"h2","id":"switch-between-windows","lvl":2},{"title":"Manage multiple windows","tagName":"h2","id":"manage-multiple-windows","lvl":2},{"title":"API overview","tagName":"h2","id":"api-overview","lvl":2},{"title":"Try the new API and let us know what you think","tagName":"h2","id":"try-the-new-api-and-let-us-know-what-you-think","lvl":2}],"title":"Introducing Multi-window Tests (Beta)","schema":null,"author":"Boris Kirov, Eugene Titerman","preview":"<p>Modern web apps often launch new browser windows to authenticate users through third-party websites or display additional interactive content.</p>\n<p>TestCafe v1.9.0 introduces partial support for multi-window tests. You can now use client-side calls to open and close browser windows. The updated API includes additional window management methods. During the ‘beta’ stage, this functionality is only enabled in local instances of Chrome and Firefox. Keep in mind that this feature is not ready for use in production environments. Both the syntax and capabilities are subject to change.</p>","description":"Modern web apps often launch new browser windows to authenticate users through third-party websites or display additional interactive content.\nTestCafe v1.9.0 i","published":"2020-8-26"},"topicUid":"402900","headerNav":{"items":[{"name":"TestCafe Studio","id":"TestCafe Studio"},{"name":"Docs","id":"Docs","url":"/documentation/402635/guides/overview/getting-started","items":[]},{"name":"What's New","id":"What's New","url":"/release-notes","href":"/release-notes","items":[]},{"name":"Support","id":"Support","url":"/support","href":"/support"},{"name":"Dashboard Alpha","id":"Dashboard Alpha","items":[]},{"name":"Blog","id":"Resources/Blog","url":"/resources/team-blog","href":"/resources/team-blog","items":[]}],"activeItems":[{"name":"Resources","id":"Resources"},{"name":"Blog","id":"Resources/Blog","url":"/resources/team-blog","href":"/resources/team-blog"},{"name":"Introducing Multi-window Tests (Beta)","id":"402900","url":"/402900/resources/blog/2020-8-26-introducing-multi-window-tests-beta"}]},"sidebarNav":{"root":{"name":"Resources","id":"Resources"},"items":[{"name":"Resources","id":"Resources","items":[{"name":"Blog","id":"Resources/Blog","url":"/resources/team-blog","href":"/resources/team-blog","items":[{"name":"The Fastest Way to Your Next Test – TestCafe + TestCafe Studio - Q&As","id":"402902","url":"/402902/resources/blog/2020-09-24-the-fastest-way-to-your-next-test-qa"},{"name":"Upcoming Webinar: How to Get True Cross-Browser Test Coverage with TestCafe and LambdaTest","id":"402903","url":"/402903/resources/blog/2020-11-17-upcoming-webinar-how-to-get-true-cross-browser-test-coverage-with-testcafe-and-lambdatest"},{"name":"Client Functions and Script Injection for Page Interaction","id":"402908","url":"/402908/resources/blog/2020-11-18-client-functions-and-script-injection-for-page-interaction"},{"name":"Webinar Recording: How to Get True Cross-Browser Test Coverage with TestCafe and LambdaTest","id":"402906","url":"/402906/resources/blog/2020-12-11-webinar-recording-how-to-get-true-cross-browser-test-coverage-with-testcafe-and-lambdatest"},{"name":"Randomize Your End-to-End Tests: How to Generate Input Data for TestCafe","id":"402905","url":"/402905/resources/blog/2020-12-28-randomize-your-end-to-end-tests-how-to-generate-input-data-for-testcafe"},{"name":"How to Scroll Web Pages Using TestCafe","id":"402893","url":"/402893/resources/blog/2020-4-20-how-to-scroll-web-pages-using-testcafe"},{"name":"How to Debug Tests in TestCafe: Quick Guide","id":"402894","url":"/402894/resources/blog/2020-5-25-how-to-debug-tests-in-testcafe-quick-guide"},{"name":"How to Speed up Debugging in TestCafe: Tips and Tricks","id":"402895","url":"/402895/resources/blog/2020-6-30-how-to-speed-up-debugging-in-testcafe-tips-and-tricks"},{"name":"Upcoming Webinar: 10 Ways to Simplify Your UI Testing","id":"402896","url":"/402896/resources/blog/2020-7-14-10-ways-to-simplify-your-ui-testing"},{"name":"Introducing the TestCafe Jenkins Plugin","id":"402897","url":"/402897/resources/blog/2020-7-29-introducing-the-testcafe-jenkins-plugin"},{"name":"TestCafe Webinar - Your Questions Answered","id":"402898","url":"/402898/resources/blog/2020-8-19-testcafe-webinar-your-questions-answered"},{"name":"Upcoming Webinar: The Fastest Way to Your Next Test – TestCafe + TestCafe Studio","id":"402899","url":"/402899/resources/blog/2020-8-21-the-fastest-way-to-your-next-test"},{"name":"Introducing Multi-window Tests (Beta)","id":"402900","url":"/402900/resources/blog/2020-8-26-introducing-multi-window-tests-beta"},{"name":"How TestCafe Can Help You to Deliver Faster","id":"402901","url":"/402901/resources/blog/2020-9-3-how-testcafe-can-help-you-to-deliver-faster"},{"name":"Upcoming Roundtable: Modern Web Testing with TestCafe","id":"402904","url":"/402904/resources/blog/2021-2-9-modern-web-testing-with-testcafe"},{"name":"Nächste Woche: Deutscher Live-Stream zu TestCafe mit Gregor Biswanger","id":"403292","url":"/403292/resources/blog/2021-7-14-naechste-woche-deutscher-live-stream"},{"name":"Case study: How Medinas started deploying every day by using TestCafe","id":"403422","url":"/403422/resources/blog/2021-9-22-how-medinas-started-deploying-every-day"},{"name":"TestCafe Dashboard (Alpha): Be the First to Explore its Capabilities","id":"403442","url":"/403442/resources/blog/2021-10-7-dashboard-alpha-invitation-announce"},{"name":"Case study: How Neos CMS Increased Reliability and Confidence with E2E testing and TestCafe","id":"403571","url":"/403571/resources/blog/2021-11-17-how-neos-cms-increased-reliability-and-confidence-with-e2e-testing-and-testcafe"},{"name":"The 2022 TestCafe Survey: Let us know what you think!","id":"404008","url":"/404008/resources/blog/2022-7-12-2022-testcafe-survey-let-us-know-what-you-think"},{"name":"From TestCafe 1.0 to TestCafe 2.0: 11 Most Notable Enhancements","id":"404059","url":"/404059/resources/blog/2022-8-31-from-testcafe-10-to-testcafe-20-11-most-notable-enhancements"},{"name":"Case study: SurveyJS — Test-Driven Development with TestCafe","id":"404146","url":"/404146/resources/blog/2022-11-01-surveyjs-case-study"}]},{"name":"Community Blogs","id":"Resources/Community Blogs","url":"/resources/community-blogs","href":"/resources/community-blogs"},{"name":"Courses","id":"Resources/Courses","url":"/resources/courses","href":"/resources/courses"},{"name":"Books","id":"Resources/Books","url":"/resources/books","href":"/resources/books"}]}],"activeItems":[{"name":"Resources","id":"Resources"},{"name":"Blog","id":"Resources/Blog","url":"/resources/team-blog","href":"/resources/team-blog"},{"name":"Introducing Multi-window Tests (Beta)","id":"402900","url":"/402900/resources/blog/2020-8-26-introducing-multi-window-tests-beta"}],"showLeafs":false},"breadcrumbsNav":[{"name":"Resources","id":"Resources"},{"name":"Blog","id":"Resources/Blog","url":"/resources/team-blog","href":"/resources/team-blog"},{"name":"Introducing Multi-window Tests (Beta)","id":"402900","url":"/402900/resources/blog/2020-8-26-introducing-multi-window-tests-beta"}],"publishDates":{"teamBlog":[1667260800000,1661889600000,1657569600000,1637107200000,1633550400000,1632254400000,1626206400000,1612814400000,1609113600000,1607644800000,1605657600000,1605571200000,1600905600000,1599076800000,1598385600000,1597953600000,1597780800000,1595966400000,1594670400000,1593460800000,1590350400000,1587326400000],"releaseNotes":[1678132800000,1675022400000,1672272000000,1668038400000,1661889600000,1659902400000,1658088000000,1653523200000,1642464000000,1640131200000,1633118400000,1631044800000,1625688000000,1617739200000,1616356800000,1614729600000,1613332800000,1607990400000,1596672000000,1579204800000,1574294400000,1571184000000,1568232000000,1565121600000,1562270400000,1562011200000,1551297600000,1549483200000,1549483200000,1541534400000,1540425600000,1535932800000,1533168000000,1526342400000,1519862400000,1507593600000,1506628800000,1501617600000,1497297600000,1493150400000,1490644800000,1487188800000,1484769600000,1481140800000,1478548800000,1476662400000]}},"__N_SSG":true}