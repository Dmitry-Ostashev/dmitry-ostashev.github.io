<!DOCTYPE html><html lang="en"><head><script>
                    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                    })(window,document,'script','dataLayer','GTM-N6T7DVB');
                    </script><meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-twitter-card-icon.png"/><meta name="twitter:site" content="@DXTestCafe"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="msapplication-TileColor" content="#2d89ef"/><meta name="msapplication-config" content="/browserconfig.xml"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta property="og:url" content="/documentation/402843/guides/advanced-guides/inject-client-scripts"/><meta property="og:title" content="Inject Client Scripts | Advanced Guides | Guides | Docs"/><meta name="description" content=""/><link rel="canonical" href="https://testcafe.io/documentation/402843/guides/advanced-guides/inject-client-scripts"/><title>Inject Client Scripts | Advanced Guides | Guides | Docs</title><meta name="next-head-count" content="7"/><link rel="preload" href="/_next/static/css/1c8bef26510addf8ae92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1c8bef26510addf8ae92.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.9560630609611a3e02bc.js" as="script"/><link rel="preload" href="/_next/static/chunks/7c1f26e48d9c1d76d0a84bc721eae1bb8e4026f5.c5ff8e6740f85d8cfa32.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-18eaebfcc26b1f12fe7f.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-d4a5ace829ed23fe491d.js" as="script"/><link rel="preload" href="/_next/static/chunks/13183c147836e35267ff1d4307193ed944e8c549.441bddd825acfa977748.js" as="script"/><link rel="preload" href="/_next/static/chunks/6559847ccf956d21366ca8101d3daaf2d4c4451f.c8edad4e1a8f2022aa3b.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/documentation/%5BtopicUid%5D/%5B...topicTitle%5D-60aa84d5d57b6ec44690.js" as="script"/></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6T7DVB" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next"><div><header id="header" class="header-documentation"><div><div class="logo"><div class="burger"><div><div class="burger-stripes"><div></div><div></div><div></div></div><div class="burger-cross"><svg width="48" height="48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 15.429 15.429 14 34 32.571 32.571 34 14 15.429Z" fill="#fff"></path><path d="M32.571 14 34 15.429 15.429 34 14 32.571 32.571 14Z" fill="#fff"></path></svg></div></div></div><a aria-label="Return to testcafe.io homepage" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="48" fill="none"><path fill="#fff" d="M23.26 26l-1.292 1.333h5.169L32.306 32H5.169l5.169-4.667h3.877L12.921 26H9.046L0 34h37.474l-9.045-8H23.26z"></path><path fill="#fff" d="M34.755 13.232L31.54 10l-13.5 13.578-5.142-5.173-3.214 3.233 8.357 8.405 16.714-16.81z"></path></svg></a><span> / <a href="/documentation/402635/guides/overview/getting-started">Docs</a></span></div><nav class="header-right-nav"><ul><li><a href="/documentation/402634/guides" class="active">Guides</a></li><li><a href="/documentation/402632/api" class="">API</a></li><li><a href="/documentation/402633/recipes" class="">Recipes</a></li><li><a href="/documentation/402637/examples" class="">Examples</a></li><li><a href="/resources/team-blog" class="">Blog</a></li><li><a href="/documentation/403936/faq" class="">FAQ</a></li><li><a href="/support" class="">Support</a></li></ul></nav><div class="search"><div id="search-container"></div><div class="github"><div class="inline sm:hidden lg:inline xl:hidden"><a target="_blank" rel="noopener noreferrer" href="https://github.com/DevExpress/testcafe"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 0C5.37 0 0 5.50583 0 12.3035C0 17.7478 3.435 22.3463 8.205 23.9765C8.805 24.0842 9.03 23.715 9.03 23.3921C9.03 23.0999 9.015 22.131 9.015 21.1005C6 21.6696 5.22 20.347 4.98 19.6549C4.845 19.3012 4.26 18.2092 3.75 17.917C3.33 17.6863 2.73 17.1173 3.735 17.1019C4.68 17.0865 5.355 17.9939 5.58 18.363C6.66 20.2239 8.385 19.701 9.075 19.3781C9.18 18.5783 9.495 18.04 9.84 17.7325C7.17 17.4249 4.38 16.3637 4.38 11.6576C4.38 10.3196 4.845 9.21227 5.61 8.35102C5.49 8.04343 5.07 6.78232 5.73 5.09058C5.73 5.09058 6.735 4.76762 9.03 6.3517C9.99 6.07487 11.01 5.93645 12.03 5.93645C13.05 5.93645 14.07 6.07487 15.03 6.3517C17.325 4.75224 18.33 5.09058 18.33 5.09058C18.99 6.78232 18.57 8.04343 18.45 8.35102C19.215 9.21227 19.68 10.3042 19.68 11.6576C19.68 16.3791 16.875 17.4249 14.205 17.7325C14.64 18.1169 15.015 18.8552 15.015 20.0086C15.015 21.6542 15 22.9768 15 23.3921C15 23.715 15.225 24.0995 15.825 23.9765C18.2072 23.1519 20.2773 21.5822 21.7438 19.4882C23.2103 17.3942 23.9994 14.8814 24 12.3035C24 5.50583 18.63 0 12 0Z" fill="white"></path></svg></a></div><div class="stars hidden sm:flex lg:hidden xl:flex"><div class="widget widget-lg"><a class="btn" href="https://github.com/DevExpress/testcafe" rel="noopener noreferrer" target="_blank" aria-label="Star DevExpress/testcafe on GitHub"><svg viewBox="0 0 16 16" width="16" height="16" class="octicon octicon-mark-github" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg> <span>Star</span></a><a class="star-count" href="https://github.com/DevExpress/testcafe/stargazers" rel="noopener noreferrer" target="_blank">    9K</a></div></div></div></div></div></header><div class="middle"><main><div class="left with-sidebar"><nav class="sidebar sidebar-documentation "><div class="title"><button aria-label="Navigation bar toggle"><svg width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M11 12h14v2H11zM11 17h14v2H11zM11 22h14v2H11z"></path></svg></button><span>Docs</span></div><ul><li class="l-1"><span>Overview</span><ul><li class="l-2"><div class="flex"><a href="/documentation/402635/guides/overview/getting-started">Getting Started</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402631/guides/overview/why-testcafe">Why TestCafe?</a></div></li></ul></li><li class="l-1"><span>Basic Guides</span><ul><li class="l-2"><div class="flex"><a href="/documentation/402834/guides/basic-guides/install-testcafe">Install TestCafe</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402831/guides/basic-guides/test-structure">Test Structure</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402829/guides/basic-guides/element-selectors">Element Selectors</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402833/guides/basic-guides/test-actions">Test Actions</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402837/guides/basic-guides/assertions">Assertions</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402832/guides/basic-guides/client-functions">Client Functions</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402830/guides/basic-guides/run-tests">Run Tests</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402835/guides/basic-guides/debug-tests">Debug Tests</a></div></li></ul></li><li class="l-1"><span>Best Practices</span><ul><li class="l-2"><div class="flex"><a href="/documentation/402836/guides/best-practices/best-practices">Best Practices</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402963/guides/best-practices/speed-up-test-execution">Speed Up Test Execution</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402826/guides/best-practices/page-model">Page Model</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/404259/guides/best-practices/create-testcafe">Bootstrap your TestCafe project with create-testcafe</a></div></li></ul></li><li class="l-1"><span>Intermediate Guides</span><ul><li class="l-2"><div class="flex"><a href="/documentation/402828/guides/intermediate-guides/browsers">Browsers</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/403584/guides/intermediate-guides/mobile-devices-cloud-browsers-and-emulation">Mobile Devices, Cloud Browsers and Emulation</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/404237/guides/intermediate-guides/native-automation-mode">Native Automation Mode</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/404288/guides/intermediate-guides/visual-selector-debugger">Visual Selector Debugger</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/403626/guides/intermediate-guides/run-tests-concurrently">Run Tests Concurrently</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402825/guides/intermediate-guides/reporters">Reporters</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402824/guides/intermediate-guides/typescript-and-coffeescript">TypeScript and CoffeeScript</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402845/guides/intermediate-guides/authentication">Authentication and Roles</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402840/guides/intermediate-guides/screenshots-and-videos">Screenshots and Videos</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/403971/guides/intermediate-guides/api-testing">API Testing</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/403435/guides/intermediate-guides/hooks">Hooks</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/403841/guides/intermediate-guides/quarantine-mode">Quarantine Mode</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/403842/guides/intermediate-guides/live-mode">Live Mode</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402842/guides/intermediate-guides/intercept-http-requests">Intercept HTTP Requests</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/403436/guides/intermediate-guides/metadata-and-filtering">Metadata and Filtering</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402841/guides/intermediate-guides/multiple-browser-windows">Multiple Browser Windows</a></div></li></ul></li><li class="l-1"><span>Advanced Guides</span><ul><li class="l-2"><div class="flex"><a href="/documentation/403655/guides/advanced-guides/advanced-selector-techniques">Advanced Selector Techniques</a></div></li><li class="l-2 active opened"><div class="flex"><a href="/documentation/402843/guides/advanced-guides/inject-client-scripts">Inject Client Scripts</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/404258/guides/advanced-guides/esm-module-support">ESM Module Support</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/404150/guides/advanced-guides/custom-test-actions">Create Custom Test Actions</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/403219/guides/advanced-guides/fire-dom-events">Fire DOM Events</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/403849/guides/advanced-guides/execute-shell-commands-on-startup">Execute Shell Commands on Startup</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402839/guides/advanced-guides/test-https-features-and-http2-websites">Test HTTPS Features and HTTP/2 Websites</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402844/guides/advanced-guides/detect-the-client-browser-and-platform">Detect the Client Browser and Platform</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402838/guides/advanced-guides/use-testcafe-docker-image">Use the TestCafe Docker Image</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402827/guides/advanced-guides/built-in-wait-mechanisms">Built-In Wait Mechanisms</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/403998/guides/advanced-guides/chrome-replay-support">Replay Chrome User Flow Recordings</a></div></li></ul></li><li class="l-1"><span>Experimental Capabilities</span><ul><li class="l-2"><div class="flex"><a href="/documentation/403999/guides/experimental-capabilities/selector-debugging">Selector Debugging</a></div></li></ul></li><li class="l-1"><span>Continuous Integration</span><ul><li class="l-2"><div class="flex"><a href="/documentation/402823/guides/continuous-integration/appveyor">Integrate TestCafe with AppVeyor</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402822/guides/continuous-integration/azure-devops">Integrate TestCafe with Azure DevOps</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402821/guides/continuous-integration/bitbucket-pipelines">Run Tests in Bitbucket Pipelines</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402819/guides/continuous-integration/circleci">Integrate TestCafe With CircleCI</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402820/guides/continuous-integration/circleci-and-lambdatest">Run Tests on LambdaTest with CircleCI</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402817/guides/continuous-integration/github-actions">Integrate TestCafe with GitHub Actions</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402818/guides/continuous-integration/github-actions-and-browserstack">Run Tests on BrowserStack with GitHub Actions</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402816/guides/continuous-integration/gitlab">Integrate TestCafe with GitLab</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402815/guides/continuous-integration/jenkins">Integrate TestCafe with Jenkins</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402847/guides/continuous-integration/teamcity">Integrate TestCafe with TeamCity</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402813/guides/continuous-integration/travis">Run Tests in Travis CI</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402814/guides/continuous-integration/travis-and-sauce-labs">Run Tests on Sauce Labs with Travis CI</a></div></li></ul></li><li class="l-1"><span>Extend TestCafe</span><ul><li class="l-2"><div class="flex"><a href="/documentation/402811/guides/extend-testcafe/install-plugins">Install Plugins</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402810/guides/extend-testcafe/reporter-plugin">Reporter Plugin</a></div></li><li class="l-2"><div class="flex"><a href="/documentation/402812/guides/extend-testcafe/browser-provider-plugin">Browser Provider Plugin</a></div></li></ul></li></ul></nav></div><div class="content sm-12"><nav aria-label="breadcrumbs" class="breadcrumbs"><a href="/documentation/402635/guides/overview/getting-started">Docs</a><span aria-hidden="true" class="text-black px-1">→</span><a href="/documentation/402634/guides">Guides</a><span aria-hidden="true" class="text-black px-1">→</span><span aria-current="location" class="text-black">Inject Client Scripts</span></nav><div class=""><div>        <h1>Inject Client Scripts</h1>

<p>TestCafe allows you to inject custom client scripts into pages visited during the tests. You can add scripts that mock browser API or provide helper functions.</p>
<ul>
<li><a href="#add-client-scripts-to-all-tests">Add Client Scripts to All Tests</a></li>
<li><a href="#add-client-scripts-to-specific-tests">Add Client Scripts to Specific Tests</a></li>
<li><a href="#provide-scripts-to-inject">Provide Scripts to Inject</a><ul>
<li><a href="#inject-a-javascript-file">Inject a JavaScript File</a></li>
<li><a href="#inject-a-module">Inject a Module</a></li>
<li><a href="#inject-script-code">Inject Script Code</a></li>
<li><a href="#provide-scripts-for-specific-pages">Provide Scripts for Specific Pages</a></li>
<li><a href="#inject-scripts-into-iframes">Inject Scripts Into Iframes</a></li>
<li><a href="#specify-multiple-scripts">Specify Multiple Scripts</a></li>
</ul>
</li>
<li><a href="#access-dom-in-the-injected-scripts">Access DOM in the Injected Scripts</a></li>
</ul>
<p>Use <a href="#add-client-scripts-to-all-tests">test run options</a> to add client scripts to all tests, or <a href="#add-client-scripts-to-specific-tests">test API</a> to add them to specific fixtures or tests.</p>
<h2 id="add-client-scripts-to-all-tests__$"><a class="anchor-fix" href="#add-client-scripts-to-all-tests" id="add-client-scripts-to-all-tests"></a>Add Client Scripts to All Tests<a class="anchor-hash" href="#add-client-scripts-to-all-tests"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"><path d="M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z" clip-rule="evenodd"></path></svg></a></h2>
<p>Use either of the following options to inject scripts into pages visited during all the tests:</p>
<ul>
<li><p>the <a class="xref" href="/documentation/402639/reference/command-line-interface#--cs-pathpath2---client-scripts-pathpath2">--cs (--client-scripts)</a> command line option</p>
<pre><code class="lang-sh">testcafe chrome test.js --client-scripts mockDate.js,assets/react-helpers.js
</code></pre></li>
<li><p>the <a class="xref" href="/documentation/402660/reference/testcafe-api/runner/clientscripts">runner.clientScripts</a> API method</p>
<pre><code class="lang-js">runner.clientScripts(&#39;mockDate.js&#39;, &#39;scripts/react-helpers.js&#39;);
</code></pre></li>
<li><p>the <a class="xref" href="/documentation/402638/reference/configuration-file#clientscripts">clientScripts</a> configuration file property</p>
<pre><code class="lang-json">{
    &quot;clientScripts&quot;: [&quot;mockDate.js&quot;, &quot;scripts/react-helpers.js&quot;]
}
</code></pre></li>
</ul>
<h2 id="add-client-scripts-to-specific-tests__$"><a class="anchor-fix" href="#add-client-scripts-to-specific-tests" id="add-client-scripts-to-specific-tests"></a>Add Client Scripts to Specific Tests<a class="anchor-hash" href="#add-client-scripts-to-specific-tests"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"><path d="M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z" clip-rule="evenodd"></path></svg></a></h2>
<p>Use the <a class="xref" href="/documentation/402783/reference/test-api/fixture/clientscripts">fixture.clientScripts</a> and <a class="xref" href="/documentation/402737/reference/test-api/test/clientscripts">test.clientScripts</a> methods to inject scripts into pages visited during a test or fixture.</p>
<pre><code class="lang-js">fixture `My fixture`
    .page `http://example.com`
    .clientScripts(&#39;assets/jquery.js&#39;);
</code></pre><pre><code class="lang-js">test
    (&#39;My test&#39;, async t =&gt; { /* ... */ })
    .clientScripts({ module: &#39;async&#39; });
</code></pre><h2 id="provide-scripts-to-inject__$"><a class="anchor-fix" href="#provide-scripts-to-inject" id="provide-scripts-to-inject"></a>Provide Scripts to Inject<a class="anchor-hash" href="#provide-scripts-to-inject"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"><path d="M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z" clip-rule="evenodd"></path></svg></a></h2>
<p>You can pass the following arguments to specify the scripts to inject:</p>
<ul>
<li><a href="#inject-a-javascript-file">path to a JavaScript file</a></li>
<li><a href="#inject-a-module">module name</a></li>
<li><a href="#inject-script-code">script code</a></li>
</ul>
<p>You can also <a href="#provide-scripts-for-specific-pages">inject scripts into specific pages</a> and <a href="#inject-scripts-into-iframes">iframes</a>.</p>
<div class="NOTE"><p class="alert-title">Note</p><p>The API methods and configuration options support <a href="#specify-multiple-scripts">multiple arguments</a>.</p>
</div>
<h3 id="inject-a-javascript-file__$"><a class="anchor-fix" href="#inject-a-javascript-file" id="inject-a-javascript-file"></a>Inject a JavaScript File<a class="anchor-hash" href="#inject-a-javascript-file"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"><path d="M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z" clip-rule="evenodd"></path></svg></a></h3>
<p>Specify the JavaScript file path to inject the content of this file into the tested pages. You can pass a string or object with the <code>path</code> property.</p>
<pre><code class="lang-sh">testcafe chrome my-tests --cs assets/jquery.js
</code></pre><pre><code class="lang-js">runner.clientScripts(&#39;assets/jquery.js&#39;);
</code></pre><pre><code class="lang-js">{
    &quot;clientScripts&quot;: &quot;assets/jquery.js&quot;
}
</code></pre><p>See the details for:</p>
<ul>
<li><a class="xref" href="/documentation/402639/reference/command-line-interface#--cs-pathpath2---client-scripts-pathpath2">command line interface</a>,</li>
<li><a class="xref" href="/documentation/402660/reference/testcafe-api/runner/clientscripts#inject-a-javascript-file">programming interface</a>,</li>
<li><a class="xref" href="/documentation/402638/reference/configuration-file#inject-a-javascript-file">configuration file</a>,</li>
<li>test API: <a class="xref" href="/documentation/402783/reference/test-api/fixture/clientscripts#inject-a-javascript-file">fixture.clientScripts</a>, <a class="xref" href="/documentation/402737/reference/test-api/test/clientscripts#inject-a-javascript-file">test.clientScripts</a>.</li>
</ul>
<h3 id="inject-a-module__$"><a class="anchor-fix" href="#inject-a-module" id="inject-a-module"></a>Inject a Module<a class="anchor-hash" href="#inject-a-module"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"><path d="M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z" clip-rule="evenodd"></path></svg></a></h3>
<p>Specify the Node.js module’s name to inject its content into the tested pages. Use an object with the <code>module</code> property.</p>
<pre><code class="lang-js">fixture `My fixture`
    .page `https://example.com`
    .clientScripts({ module: &#39;lodash&#39; });
</code></pre><pre><code class="lang-json">{
    &quot;clientScripts&quot;: {
        &quot;module&quot;: &quot;lodash&quot;
    }
}
</code></pre><p>TestCafe uses Node.js mechanisms to search for the module’s entry point and injects its content into the tested page.</p>
<p>Note that the browser must be able to execute the injected module. For example, modules that implement the <a href="https://github.com/umdjs/umd" target="_blank">UMD<span class="svg-no-wrap">&#65279;<svg fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24"><path d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></span></a> API can run in most modern browsers.</p>
<p>See details for:</p>
<ul>
<li><a class="xref" href="/documentation/402660/reference/testcafe-api/runner/clientscripts#inject-a-module">programming interface</a>,</li>
<li><a class="xref" href="/documentation/402638/reference/configuration-file#inject-a-module">configuration file</a>,</li>
<li>test API: <a class="xref" href="/documentation/402783/reference/test-api/fixture/clientscripts#inject-a-module">fixture.clientScripts</a>, <a class="xref" href="/documentation/402737/reference/test-api/test/clientscripts#inject-a-module">test.clientScripts</a>.</li>
</ul>
<h3 id="inject-script-code__$"><a class="anchor-fix" href="#inject-script-code" id="inject-script-code"></a>Inject Script Code<a class="anchor-hash" href="#inject-script-code"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"><path d="M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z" clip-rule="evenodd"></path></svg></a></h3>
<p>You can pass an object with the <code>content</code> property to provide the injected script as a string.</p>
<pre><code class="lang-js">const mockDate = `
    Date.prototype.getTime = function () {
        return 42;
    };
`;

test
    (&#39;My test&#39;, async t =&gt; { /* ... */ })
    .clientScripts({ content: mockDate });
</code></pre><pre><code class="lang-json">{
    &quot;clientScripts&quot;: {
        &quot;content&quot;: &quot;Date.prototype.getTime = () =&gt; 42;&quot;
    }
}
</code></pre><p>See the details for:</p>
<ul>
<li><a class="xref" href="/documentation/402660/reference/testcafe-api/runner/clientscripts#inject-script-code">programming interface</a>,</li>
<li><a class="xref" href="/documentation/402638/reference/configuration-file#inject-script-code">configuration file</a>,</li>
<li>test API: <a class="xref" href="/documentation/402783/reference/test-api/fixture/clientscripts#inject-script-code">fixture.clientScripts</a>, <a class="xref" href="/documentation/402737/reference/test-api/test/clientscripts#inject-script-code">test.clientScripts</a>.</li>
</ul>
<h3 id="provide-scripts-for-specific-pages__$"><a class="anchor-fix" href="#provide-scripts-for-specific-pages" id="provide-scripts-for-specific-pages"></a>Provide Scripts for Specific Pages<a class="anchor-hash" href="#provide-scripts-for-specific-pages"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"><path d="M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z" clip-rule="evenodd"></path></svg></a></h3>
<p>You can also specify pages into which a script should be injected. This will allow you to mock browser API on specified pages and use the default behavior everywhere else.</p>
<p>To specify target pages for a script, add the <code>page</code> property to the object you pass to <code>clientScripts</code>.</p>
<pre><code class="lang-js">runner.clientScripts({
    page: /\/user\/profile\//,
    path: &#39;dist/jquery.js&#39;
});
</code></pre><pre><code class="lang-json">{
    &quot;clientScripts&quot;: {
        &quot;page&quot;: &quot;https://myapp.com/page/&quot;,
        &quot;content&quot;: &quot;Geolocation.prototype.getCurrentPosition = () =&gt; new Positon(0, 0);&quot;
    }
}
</code></pre><p>See the details for:</p>
<ul>
<li><a class="xref" href="/documentation/402660/reference/testcafe-api/runner/clientscripts#provide-scripts-for-specific-pages">programming interface</a>,</li>
<li><a class="xref" href="/documentation/402638/reference/configuration-file#provide-scripts-for-specific-pages">configuration file</a>,</li>
<li>test API: <a class="xref" href="/documentation/402783/reference/test-api/fixture/clientscripts#provide-scripts-for-specific-pages">fixture.clientScripts</a>, <a class="xref" href="/documentation/402737/reference/test-api/test/clientscripts#provide-scripts-for-specific-pages">test.clientScripts</a>.</li>
</ul>
<h3 id="inject-scripts-into-iframes__$"><a class="anchor-fix" href="#inject-scripts-into-iframes" id="inject-scripts-into-iframes"></a>Inject Scripts Into Iframes<a class="anchor-hash" href="#inject-scripts-into-iframes"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"><path d="M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z" clip-rule="evenodd"></path></svg></a></h3>
<p>To inject a script into an iframe, specify the iframe URL in the <a href="#provide-scripts-for-specific-pages">page</a> property.</p>
<pre><code class="lang-js">runner.clientScripts({
    path: &#39;scripts/helpers.js&#39;,
    page: &#39;https://example.com/iframe/&#39;
}));
</code></pre><h3 id="specify-multiple-scripts__$"><a class="anchor-fix" href="#specify-multiple-scripts" id="specify-multiple-scripts"></a>Specify Multiple Scripts<a class="anchor-hash" href="#specify-multiple-scripts"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"><path d="M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z" clip-rule="evenodd"></path></svg></a></h3>
<p>You can pass multiple arguments or an array to the <code>clientScripts</code> methods:</p>
<pre><code class="lang-js">fixture `My fixture`
    .page `https://example.com`
    .clientScripts(&#39;scripts/react-helpers.js&#39;, { content: &#39;Date.prototype.getTime = () =&gt; 42;&#39; });
</code></pre><pre><code class="lang-js">runner.clientScripts([&#39;scripts/react-helpers.js&#39;, &#39;dist/jquery.js&#39;]);
</code></pre><p>The <a class="xref" href="/documentation/402638/reference/configuration-file#clientscripts">clientScripts</a> configuration file property can also take arrays:</p>
<pre><code class="lang-json">{
    &quot;clientScripts&quot;: [&quot;vue-helpers.js&quot;, {
        &quot;page&quot;: &quot;https://mycorp.com/login/&quot;,
        &quot;module&quot;: &quot;lodash&quot;
    }]
}
</code></pre><p>The <a class="xref" href="/documentation/402639/reference/command-line-interface#--cs-pathpath2---client-scripts-pathpath2">--cs (--client-scripts)</a> command line option supports multiple arguments as well:</p>
<pre><code class="lang-sh">testcafe chrome test.js --client-scripts mockDate.js,assets/react-helpers.js
</code></pre><p>Note that the <code>page</code>, <code>content</code> and <code>module</code> properties cannot take arrays. To inject multiple scripts into the same page, pass one argument for each script.</p>
<pre><code class="lang-js">const scripts = [&#39;test1.js&#39;, &#39;test2.js&#39;, &#39;test3.js&#39;];

runner.clientScripts(scripts.map(script =&gt; {
    path: script,
    page: &#39;http://example.com&#39;
}));
</code></pre><h2 id="access-dom-in-the-injected-scripts__$"><a class="anchor-fix" href="#access-dom-in-the-injected-scripts" id="access-dom-in-the-injected-scripts"></a>Access DOM in the Injected Scripts<a class="anchor-hash" href="#access-dom-in-the-injected-scripts"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"><path d="M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z" clip-rule="evenodd"></path></svg></a></h2>
<p>TestCafe injects custom scripts into the <code>head</code> tag. These scripts are executed before the DOM is loaded.</p>
<p>To access the DOM in these scripts, wait until the <code>DOMContentLoaded</code> event fires:</p>
<pre><code class="lang-js">const scriptContent = `
window.addEventListener(&#39;DOMContentLoaded&#39;, function () {
    document.body.style.backgroundColor = &#39;green&#39;;
});
`;

fixture `My fixture`
    .clientScripts({ content: scriptContent });
</code></pre></div></div></div><div class="right"><nav class="scrollspy"><span class="scrollspy-title">On this page</span><ul><li><a href="#add-client-scripts-to-all-tests" class="scrollspy-link">Add Client Scripts to All Tests</a></li><li><a href="#add-client-scripts-to-specific-tests" class="scrollspy-link">Add Client Scripts to Specific Tests</a></li><li><a href="#provide-scripts-to-inject" class="scrollspy-link">Provide Scripts to Inject</a></li><li><a href="#access-dom-in-the-injected-scripts" class="scrollspy-link">Access DOM in the Injected Scripts</a></li></ul></nav></div></main></div><footer><div class="main-middle"><div class="footer-grid"><div class="social-container"><img width="200" height="40" src="/img/testcafe-logo.svg" alt="TestCafe"/><p class="footer-logo-description">TestCafe is a user-friendly end-to-end testing framework. Free and open source test runner. Powerful desktop app. Enterprise-quality web services.</p><div class="social"><a target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/dxtestcafe/"><span class="sr-only">Facebook</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd"></path></svg></a><a target="_blank" rel="noopener noreferrer" href="https://twitter.com/DXTestCafe"><span class="sr-only">Twitter</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a><a target="_blank" rel="noopener noreferrer" href="https://github.com/DevExpress/testcafe"><span class="sr-only">GitHub</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a><a href="mailto:testcafeteam@devexpress.com"><span class="sr-only">Email</span><svg width="24" height="24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M2.004 7.198 12 11.862l9.996-4.664a2.272 2.272 0 0 0-.78-1.562A2.6 2.6 0 0 0 19.5 5h-15a2.6 2.6 0 0 0-1.716.636 2.272 2.272 0 0 0-.78 1.562Z"></path><path d="m22 9.804-10 4.667L2 9.804v6.863c0 .618.263 1.212.732 1.65A2.593 2.593 0 0 0 4.5 19h15c.663 0 1.299-.246 1.768-.683a2.257 2.257 0 0 0 .732-1.65V9.804Z"></path></svg></a><a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/playlist?list=PL8h4jt35t1wirqPiT68hV0cpX1ppQMVtF"><span class="sr-only">Youtube</span><svg width="24" height="24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3H5Zm9.685 6.463L10 9v6l4.685-2.463c.42-.222.42-.853 0-1.074Z"></path></svg></a></div></div><nav aria-label="Footer"><h2 class="sr-only">Footer navigation</h2><div><h3 class="footer-navigation-header">Product</h3><ul class="footer-navigation-column-section-list"><li><a href="/documentation/402631/guides/overview/why-testcafe">Why TestCafe</a></li><li><a href="/documentation/402635/guides/overview/getting-started">Getting Started</a></li><li><a href="https://www.devexpress.com/products/testcafestudio/" target="_blank" rel="noopener noreferrer">TestCafe Studio</a></li><li><a href="/documentation/402809/guides/continuous-integration">Integrations</a></li><li><a href="/release-notes">What&#x27;s New</a></li><li><a href="/402949/roadmap">Roadmap</a></li></ul></div><div><h3 class="footer-navigation-header">Features</h3><ul class="footer-navigation-column-section-list"><li><a href="/documentation/402828/guides/concepts/browsers">Cross-browser tests</a></li><li><a href="/documentation/403971/guides/intermediate-guides/api-testing">API tests</a></li><li><a href="/documentation/402841/guides/intermediate-guides/multiple-browser-windows">Multi-window tests</a></li><li><a href="/documentation/402833/guides/basic-guides/test-actions#work-with-iframes">Iframe tests</a></li><li><a href="/documentation/402830/guides/basic-guides/run-tests#live-mode">Live Mode</a></li><li><a href="/documentation/402830/guides/basic-guides/run-tests#quarantine-mode">Unstable test detection</a></li><li><a href="/documentation/402840/guides/intermediate-guides/screenshots-and-videos">Screenshots and Videos</a></li><li><a href="/documentation/403626/guides/intermediate-guides/run-tests-concurrently">Concurrent test runs</a></li><li><a href="/documentation/402824/guides/concepts/typescript-and-coffeescript">TypeScript tests</a></li></ul></div><div><h3 class="footer-navigation-header">Resources</h3><ul class="footer-navigation-column-section-list"><li><a href="/resources/team-blog">Blog</a></li><li><a href="/resources/community-blogs">Community Blogs</a></li><li><a href="/resources/courses">Courses</a></li><li><a href="/resources/books">Books</a></li><li><a href="/case-studies">Case studies</a></li></ul></div><div><h3 class="footer-navigation-header">Learn</h3><ul class="footer-navigation-column-section-list"><li><a href="/documentation/402635/guides/overview/getting-started">Docs</a></li><li><a href="/documentation/402636/faq/general-info">FAQ</a></li><li><a href="/documentation/402634/guides">Guides</a></li><li><a href="/documentation/402836/guides/basic-guides/best-practices">Best Practices</a></li><li><a target="_blank" rel="noopener noreferrer" href="/documentation/402637/examples">Examples</a></li></ul><h3 class="footer-navigation-header">Support</h3><ul class="footer-navigation-column-section-list"><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/DevExpress/testcafe/issues/new?assignees=&amp;labels=TYPE%3A+bug&amp;template=bug_report.yaml">Report an Issue</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/DevExpress/testcafe/issues/new?assignees=&amp;labels=TYPE%3A+enhancement&amp;template=feature_request.yaml">Suggest a Feature</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/ask?tags=testcafe">Ask on StackOverflow</a></li></ul></div></nav></div><div class="footer-copyright-container"><p>© 2012–2023 Developer Express Inc. Use of this site constitutes acceptance of our <a target="_blank" href="https://www.devexpress.com/aboutus/privacy-policy.xml" rel="noopener noreferrer">Privacy Policy.</a></p><p>All trademarks or registered trademarks are property of their respective owners.</p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"content":{"html":"        \u003ch1\u003eInject Client Scripts\u003c/h1\u003e\r\n\r\n\u003cp\u003eTestCafe allows you to inject custom client scripts into pages visited during the tests. You can add scripts that mock browser API or provide helper functions.\u003c/p\u003e\r\n\u003cul\u003e\r\n\u003cli\u003e\u003ca href=\"#add-client-scripts-to-all-tests\"\u003eAdd Client Scripts to All Tests\u003c/a\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003ca href=\"#add-client-scripts-to-specific-tests\"\u003eAdd Client Scripts to Specific Tests\u003c/a\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003ca href=\"#provide-scripts-to-inject\"\u003eProvide Scripts to Inject\u003c/a\u003e\u003cul\u003e\r\n\u003cli\u003e\u003ca href=\"#inject-a-javascript-file\"\u003eInject a JavaScript File\u003c/a\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003ca href=\"#inject-a-module\"\u003eInject a Module\u003c/a\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003ca href=\"#inject-script-code\"\u003eInject Script Code\u003c/a\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003ca href=\"#provide-scripts-for-specific-pages\"\u003eProvide Scripts for Specific Pages\u003c/a\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003ca href=\"#inject-scripts-into-iframes\"\u003eInject Scripts Into Iframes\u003c/a\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003ca href=\"#specify-multiple-scripts\"\u003eSpecify Multiple Scripts\u003c/a\u003e\u003c/li\u003e\r\n\u003c/ul\u003e\r\n\u003c/li\u003e\r\n\u003cli\u003e\u003ca href=\"#access-dom-in-the-injected-scripts\"\u003eAccess DOM in the Injected Scripts\u003c/a\u003e\u003c/li\u003e\r\n\u003c/ul\u003e\r\n\u003cp\u003eUse \u003ca href=\"#add-client-scripts-to-all-tests\"\u003etest run options\u003c/a\u003e to add client scripts to all tests, or \u003ca href=\"#add-client-scripts-to-specific-tests\"\u003etest API\u003c/a\u003e to add them to specific fixtures or tests.\u003c/p\u003e\r\n\u003ch2 id=\"add-client-scripts-to-all-tests__$\"\u003e\u003ca class=\"anchor-fix\" href=\"#add-client-scripts-to-all-tests\" id=\"add-client-scripts-to-all-tests\"\u003e\u003c/a\u003eAdd Client Scripts to All Tests\u003ca class=\"anchor-hash\" href=\"#add-client-scripts-to-all-tests\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"\u003e\u003cpath d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/h2\u003e\r\n\u003cp\u003eUse either of the following options to inject scripts into pages visited during all the tests:\u003c/p\u003e\r\n\u003cul\u003e\r\n\u003cli\u003e\u003cp\u003ethe \u003ca class=\"xref\" href=\"/documentation/402639/reference/command-line-interface#--cs-pathpath2---client-scripts-pathpath2\"\u003e--cs (--client-scripts)\u003c/a\u003e command line option\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-sh\"\u003etestcafe chrome test.js --client-scripts mockDate.js,assets/react-helpers.js\r\n\u003c/code\u003e\u003c/pre\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003cp\u003ethe \u003ca class=\"xref\" href=\"/documentation/402660/reference/testcafe-api/runner/clientscripts\"\u003erunner.clientScripts\u003c/a\u003e API method\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-js\"\u003erunner.clientScripts(\u0026#39;mockDate.js\u0026#39;, \u0026#39;scripts/react-helpers.js\u0026#39;);\r\n\u003c/code\u003e\u003c/pre\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003cp\u003ethe \u003ca class=\"xref\" href=\"/documentation/402638/reference/configuration-file#clientscripts\"\u003eclientScripts\u003c/a\u003e configuration file property\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-json\"\u003e{\r\n    \u0026quot;clientScripts\u0026quot;: [\u0026quot;mockDate.js\u0026quot;, \u0026quot;scripts/react-helpers.js\u0026quot;]\r\n}\r\n\u003c/code\u003e\u003c/pre\u003e\u003c/li\u003e\r\n\u003c/ul\u003e\r\n\u003ch2 id=\"add-client-scripts-to-specific-tests__$\"\u003e\u003ca class=\"anchor-fix\" href=\"#add-client-scripts-to-specific-tests\" id=\"add-client-scripts-to-specific-tests\"\u003e\u003c/a\u003eAdd Client Scripts to Specific Tests\u003ca class=\"anchor-hash\" href=\"#add-client-scripts-to-specific-tests\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"\u003e\u003cpath d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/h2\u003e\r\n\u003cp\u003eUse the \u003ca class=\"xref\" href=\"/documentation/402783/reference/test-api/fixture/clientscripts\"\u003efixture.clientScripts\u003c/a\u003e and \u003ca class=\"xref\" href=\"/documentation/402737/reference/test-api/test/clientscripts\"\u003etest.clientScripts\u003c/a\u003e methods to inject scripts into pages visited during a test or fixture.\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-js\"\u003efixture `My fixture`\r\n    .page `http://example.com`\r\n    .clientScripts(\u0026#39;assets/jquery.js\u0026#39;);\r\n\u003c/code\u003e\u003c/pre\u003e\u003cpre\u003e\u003ccode class=\"lang-js\"\u003etest\r\n    (\u0026#39;My test\u0026#39;, async t =\u0026gt; { /* ... */ })\r\n    .clientScripts({ module: \u0026#39;async\u0026#39; });\r\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"provide-scripts-to-inject__$\"\u003e\u003ca class=\"anchor-fix\" href=\"#provide-scripts-to-inject\" id=\"provide-scripts-to-inject\"\u003e\u003c/a\u003eProvide Scripts to Inject\u003ca class=\"anchor-hash\" href=\"#provide-scripts-to-inject\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"\u003e\u003cpath d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/h2\u003e\r\n\u003cp\u003eYou can pass the following arguments to specify the scripts to inject:\u003c/p\u003e\r\n\u003cul\u003e\r\n\u003cli\u003e\u003ca href=\"#inject-a-javascript-file\"\u003epath to a JavaScript file\u003c/a\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003ca href=\"#inject-a-module\"\u003emodule name\u003c/a\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003ca href=\"#inject-script-code\"\u003escript code\u003c/a\u003e\u003c/li\u003e\r\n\u003c/ul\u003e\r\n\u003cp\u003eYou can also \u003ca href=\"#provide-scripts-for-specific-pages\"\u003einject scripts into specific pages\u003c/a\u003e and \u003ca href=\"#inject-scripts-into-iframes\"\u003eiframes\u003c/a\u003e.\u003c/p\u003e\r\n\u003cdiv class=\"NOTE\"\u003e\u003cp class=\"alert-title\"\u003eNote\u003c/p\u003e\u003cp\u003eThe API methods and configuration options support \u003ca href=\"#specify-multiple-scripts\"\u003emultiple arguments\u003c/a\u003e.\u003c/p\u003e\r\n\u003c/div\u003e\r\n\u003ch3 id=\"inject-a-javascript-file__$\"\u003e\u003ca class=\"anchor-fix\" href=\"#inject-a-javascript-file\" id=\"inject-a-javascript-file\"\u003e\u003c/a\u003eInject a JavaScript File\u003ca class=\"anchor-hash\" href=\"#inject-a-javascript-file\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"\u003e\u003cpath d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/h3\u003e\r\n\u003cp\u003eSpecify the JavaScript file path to inject the content of this file into the tested pages. You can pass a string or object with the \u003ccode\u003epath\u003c/code\u003e property.\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-sh\"\u003etestcafe chrome my-tests --cs assets/jquery.js\r\n\u003c/code\u003e\u003c/pre\u003e\u003cpre\u003e\u003ccode class=\"lang-js\"\u003erunner.clientScripts(\u0026#39;assets/jquery.js\u0026#39;);\r\n\u003c/code\u003e\u003c/pre\u003e\u003cpre\u003e\u003ccode class=\"lang-js\"\u003e{\r\n    \u0026quot;clientScripts\u0026quot;: \u0026quot;assets/jquery.js\u0026quot;\r\n}\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSee the details for:\u003c/p\u003e\r\n\u003cul\u003e\r\n\u003cli\u003e\u003ca class=\"xref\" href=\"/documentation/402639/reference/command-line-interface#--cs-pathpath2---client-scripts-pathpath2\"\u003ecommand line interface\u003c/a\u003e,\u003c/li\u003e\r\n\u003cli\u003e\u003ca class=\"xref\" href=\"/documentation/402660/reference/testcafe-api/runner/clientscripts#inject-a-javascript-file\"\u003eprogramming interface\u003c/a\u003e,\u003c/li\u003e\r\n\u003cli\u003e\u003ca class=\"xref\" href=\"/documentation/402638/reference/configuration-file#inject-a-javascript-file\"\u003econfiguration file\u003c/a\u003e,\u003c/li\u003e\r\n\u003cli\u003etest API: \u003ca class=\"xref\" href=\"/documentation/402783/reference/test-api/fixture/clientscripts#inject-a-javascript-file\"\u003efixture.clientScripts\u003c/a\u003e, \u003ca class=\"xref\" href=\"/documentation/402737/reference/test-api/test/clientscripts#inject-a-javascript-file\"\u003etest.clientScripts\u003c/a\u003e.\u003c/li\u003e\r\n\u003c/ul\u003e\r\n\u003ch3 id=\"inject-a-module__$\"\u003e\u003ca class=\"anchor-fix\" href=\"#inject-a-module\" id=\"inject-a-module\"\u003e\u003c/a\u003eInject a Module\u003ca class=\"anchor-hash\" href=\"#inject-a-module\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"\u003e\u003cpath d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/h3\u003e\r\n\u003cp\u003eSpecify the Node.js module’s name to inject its content into the tested pages. Use an object with the \u003ccode\u003emodule\u003c/code\u003e property.\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-js\"\u003efixture `My fixture`\r\n    .page `https://example.com`\r\n    .clientScripts({ module: \u0026#39;lodash\u0026#39; });\r\n\u003c/code\u003e\u003c/pre\u003e\u003cpre\u003e\u003ccode class=\"lang-json\"\u003e{\r\n    \u0026quot;clientScripts\u0026quot;: {\r\n        \u0026quot;module\u0026quot;: \u0026quot;lodash\u0026quot;\r\n    }\r\n}\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eTestCafe uses Node.js mechanisms to search for the module’s entry point and injects its content into the tested page.\u003c/p\u003e\r\n\u003cp\u003eNote that the browser must be able to execute the injected module. For example, modules that implement the \u003ca href=\"https://github.com/umdjs/umd\" target=\"_blank\"\u003eUMD\u003cspan class=\"svg-no-wrap\"\u003e\u0026#65279;\u003csvg fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\u003e\u003cpath d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e\u003c/a\u003e API can run in most modern browsers.\u003c/p\u003e\r\n\u003cp\u003eSee details for:\u003c/p\u003e\r\n\u003cul\u003e\r\n\u003cli\u003e\u003ca class=\"xref\" href=\"/documentation/402660/reference/testcafe-api/runner/clientscripts#inject-a-module\"\u003eprogramming interface\u003c/a\u003e,\u003c/li\u003e\r\n\u003cli\u003e\u003ca class=\"xref\" href=\"/documentation/402638/reference/configuration-file#inject-a-module\"\u003econfiguration file\u003c/a\u003e,\u003c/li\u003e\r\n\u003cli\u003etest API: \u003ca class=\"xref\" href=\"/documentation/402783/reference/test-api/fixture/clientscripts#inject-a-module\"\u003efixture.clientScripts\u003c/a\u003e, \u003ca class=\"xref\" href=\"/documentation/402737/reference/test-api/test/clientscripts#inject-a-module\"\u003etest.clientScripts\u003c/a\u003e.\u003c/li\u003e\r\n\u003c/ul\u003e\r\n\u003ch3 id=\"inject-script-code__$\"\u003e\u003ca class=\"anchor-fix\" href=\"#inject-script-code\" id=\"inject-script-code\"\u003e\u003c/a\u003eInject Script Code\u003ca class=\"anchor-hash\" href=\"#inject-script-code\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"\u003e\u003cpath d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/h3\u003e\r\n\u003cp\u003eYou can pass an object with the \u003ccode\u003econtent\u003c/code\u003e property to provide the injected script as a string.\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-js\"\u003econst mockDate = `\r\n    Date.prototype.getTime = function () {\r\n        return 42;\r\n    };\r\n`;\r\n\r\ntest\r\n    (\u0026#39;My test\u0026#39;, async t =\u0026gt; { /* ... */ })\r\n    .clientScripts({ content: mockDate });\r\n\u003c/code\u003e\u003c/pre\u003e\u003cpre\u003e\u003ccode class=\"lang-json\"\u003e{\r\n    \u0026quot;clientScripts\u0026quot;: {\r\n        \u0026quot;content\u0026quot;: \u0026quot;Date.prototype.getTime = () =\u0026gt; 42;\u0026quot;\r\n    }\r\n}\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSee the details for:\u003c/p\u003e\r\n\u003cul\u003e\r\n\u003cli\u003e\u003ca class=\"xref\" href=\"/documentation/402660/reference/testcafe-api/runner/clientscripts#inject-script-code\"\u003eprogramming interface\u003c/a\u003e,\u003c/li\u003e\r\n\u003cli\u003e\u003ca class=\"xref\" href=\"/documentation/402638/reference/configuration-file#inject-script-code\"\u003econfiguration file\u003c/a\u003e,\u003c/li\u003e\r\n\u003cli\u003etest API: \u003ca class=\"xref\" href=\"/documentation/402783/reference/test-api/fixture/clientscripts#inject-script-code\"\u003efixture.clientScripts\u003c/a\u003e, \u003ca class=\"xref\" href=\"/documentation/402737/reference/test-api/test/clientscripts#inject-script-code\"\u003etest.clientScripts\u003c/a\u003e.\u003c/li\u003e\r\n\u003c/ul\u003e\r\n\u003ch3 id=\"provide-scripts-for-specific-pages__$\"\u003e\u003ca class=\"anchor-fix\" href=\"#provide-scripts-for-specific-pages\" id=\"provide-scripts-for-specific-pages\"\u003e\u003c/a\u003eProvide Scripts for Specific Pages\u003ca class=\"anchor-hash\" href=\"#provide-scripts-for-specific-pages\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"\u003e\u003cpath d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/h3\u003e\r\n\u003cp\u003eYou can also specify pages into which a script should be injected. This will allow you to mock browser API on specified pages and use the default behavior everywhere else.\u003c/p\u003e\r\n\u003cp\u003eTo specify target pages for a script, add the \u003ccode\u003epage\u003c/code\u003e property to the object you pass to \u003ccode\u003eclientScripts\u003c/code\u003e.\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-js\"\u003erunner.clientScripts({\r\n    page: /\\/user\\/profile\\//,\r\n    path: \u0026#39;dist/jquery.js\u0026#39;\r\n});\r\n\u003c/code\u003e\u003c/pre\u003e\u003cpre\u003e\u003ccode class=\"lang-json\"\u003e{\r\n    \u0026quot;clientScripts\u0026quot;: {\r\n        \u0026quot;page\u0026quot;: \u0026quot;https://myapp.com/page/\u0026quot;,\r\n        \u0026quot;content\u0026quot;: \u0026quot;Geolocation.prototype.getCurrentPosition = () =\u0026gt; new Positon(0, 0);\u0026quot;\r\n    }\r\n}\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSee the details for:\u003c/p\u003e\r\n\u003cul\u003e\r\n\u003cli\u003e\u003ca class=\"xref\" href=\"/documentation/402660/reference/testcafe-api/runner/clientscripts#provide-scripts-for-specific-pages\"\u003eprogramming interface\u003c/a\u003e,\u003c/li\u003e\r\n\u003cli\u003e\u003ca class=\"xref\" href=\"/documentation/402638/reference/configuration-file#provide-scripts-for-specific-pages\"\u003econfiguration file\u003c/a\u003e,\u003c/li\u003e\r\n\u003cli\u003etest API: \u003ca class=\"xref\" href=\"/documentation/402783/reference/test-api/fixture/clientscripts#provide-scripts-for-specific-pages\"\u003efixture.clientScripts\u003c/a\u003e, \u003ca class=\"xref\" href=\"/documentation/402737/reference/test-api/test/clientscripts#provide-scripts-for-specific-pages\"\u003etest.clientScripts\u003c/a\u003e.\u003c/li\u003e\r\n\u003c/ul\u003e\r\n\u003ch3 id=\"inject-scripts-into-iframes__$\"\u003e\u003ca class=\"anchor-fix\" href=\"#inject-scripts-into-iframes\" id=\"inject-scripts-into-iframes\"\u003e\u003c/a\u003eInject Scripts Into Iframes\u003ca class=\"anchor-hash\" href=\"#inject-scripts-into-iframes\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"\u003e\u003cpath d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/h3\u003e\r\n\u003cp\u003eTo inject a script into an iframe, specify the iframe URL in the \u003ca href=\"#provide-scripts-for-specific-pages\"\u003epage\u003c/a\u003e property.\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-js\"\u003erunner.clientScripts({\r\n    path: \u0026#39;scripts/helpers.js\u0026#39;,\r\n    page: \u0026#39;https://example.com/iframe/\u0026#39;\r\n}));\r\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"specify-multiple-scripts__$\"\u003e\u003ca class=\"anchor-fix\" href=\"#specify-multiple-scripts\" id=\"specify-multiple-scripts\"\u003e\u003c/a\u003eSpecify Multiple Scripts\u003ca class=\"anchor-hash\" href=\"#specify-multiple-scripts\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"\u003e\u003cpath d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/h3\u003e\r\n\u003cp\u003eYou can pass multiple arguments or an array to the \u003ccode\u003eclientScripts\u003c/code\u003e methods:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-js\"\u003efixture `My fixture`\r\n    .page `https://example.com`\r\n    .clientScripts(\u0026#39;scripts/react-helpers.js\u0026#39;, { content: \u0026#39;Date.prototype.getTime = () =\u0026gt; 42;\u0026#39; });\r\n\u003c/code\u003e\u003c/pre\u003e\u003cpre\u003e\u003ccode class=\"lang-js\"\u003erunner.clientScripts([\u0026#39;scripts/react-helpers.js\u0026#39;, \u0026#39;dist/jquery.js\u0026#39;]);\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe \u003ca class=\"xref\" href=\"/documentation/402638/reference/configuration-file#clientscripts\"\u003eclientScripts\u003c/a\u003e configuration file property can also take arrays:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-json\"\u003e{\r\n    \u0026quot;clientScripts\u0026quot;: [\u0026quot;vue-helpers.js\u0026quot;, {\r\n        \u0026quot;page\u0026quot;: \u0026quot;https://mycorp.com/login/\u0026quot;,\r\n        \u0026quot;module\u0026quot;: \u0026quot;lodash\u0026quot;\r\n    }]\r\n}\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe \u003ca class=\"xref\" href=\"/documentation/402639/reference/command-line-interface#--cs-pathpath2---client-scripts-pathpath2\"\u003e--cs (--client-scripts)\u003c/a\u003e command line option supports multiple arguments as well:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-sh\"\u003etestcafe chrome test.js --client-scripts mockDate.js,assets/react-helpers.js\r\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNote that the \u003ccode\u003epage\u003c/code\u003e, \u003ccode\u003econtent\u003c/code\u003e and \u003ccode\u003emodule\u003c/code\u003e properties cannot take arrays. To inject multiple scripts into the same page, pass one argument for each script.\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-js\"\u003econst scripts = [\u0026#39;test1.js\u0026#39;, \u0026#39;test2.js\u0026#39;, \u0026#39;test3.js\u0026#39;];\r\n\r\nrunner.clientScripts(scripts.map(script =\u0026gt; {\r\n    path: script,\r\n    page: \u0026#39;http://example.com\u0026#39;\r\n}));\r\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"access-dom-in-the-injected-scripts__$\"\u003e\u003ca class=\"anchor-fix\" href=\"#access-dom-in-the-injected-scripts\" id=\"access-dom-in-the-injected-scripts\"\u003e\u003c/a\u003eAccess DOM in the Injected Scripts\u003ca class=\"anchor-hash\" href=\"#access-dom-in-the-injected-scripts\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\"\u003e\u003cpath d=\"M12.586 2.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2.002 2.002 0 01-3.438-1.407 2 2 0 01.61-1.42l3-3z\" clip-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/h2\u003e\r\n\u003cp\u003eTestCafe injects custom scripts into the \u003ccode\u003ehead\u003c/code\u003e tag. These scripts are executed before the DOM is loaded.\u003c/p\u003e\r\n\u003cp\u003eTo access the DOM in these scripts, wait until the \u003ccode\u003eDOMContentLoaded\u003c/code\u003e event fires:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"lang-js\"\u003econst scriptContent = `\r\nwindow.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function () {\r\n    document.body.style.backgroundColor = \u0026#39;green\u0026#39;;\r\n});\r\n`;\r\n\r\nfixture `My fixture`\r\n    .clientScripts({ content: scriptContent });\r\n\u003c/code\u003e\u003c/pre\u003e","headers":[{"title":"Add Client Scripts to All Tests","tagName":"h2","id":"add-client-scripts-to-all-tests","lvl":2},{"title":"Add Client Scripts to Specific Tests","tagName":"h2","id":"add-client-scripts-to-specific-tests","lvl":2},{"title":"Provide Scripts to Inject","tagName":"h2","id":"provide-scripts-to-inject","lvl":2},{"title":"Access DOM in the Injected Scripts","tagName":"h2","id":"access-dom-in-the-injected-scripts","lvl":2}],"title":"Inject Client Scripts","schema":null,"author":null,"preview":null,"description":null,"published":null,"hidden":false,"externalUrl":"https://www.devexpress.com/MyAccount/LogIn?returnUrl=undefined"},"topicUid":"402843","headerNav":{"items":[{"name":"Guides","id":"402634","url":"/documentation/402634/guides","headerUrl":"/documentation/402635/guides/overview/getting-started","items":[]},{"name":"API","id":"402632","url":"/documentation/402632/api","items":[]},{"name":"Recipes","id":"402633","url":"/documentation/402633/recipes","items":[]},{"name":"Examples","id":"402637","url":"/documentation/402637/examples"},{"name":"Blog","id":"Docs/Blog","url":"/resources/team-blog","href":"/resources/team-blog"},{"name":"FAQ","id":"403936","url":"/documentation/403936/faq","headerUrl":"/documentation/402636/faq/general-info","items":[]},{"name":"Support","id":"Docs/Support","url":"/support","href":"/support"}],"activeItems":[{"name":"Docs","id":"Docs","url":"/documentation/402635/guides/overview/getting-started"},{"name":"Guides","id":"402634","url":"/documentation/402634/guides","headerUrl":"/documentation/402635/guides/overview/getting-started"},{"name":"Advanced Guides","id":"402634/Advanced Guides"},{"name":"Inject Client Scripts","id":"402843","url":"/documentation/402843/guides/advanced-guides/inject-client-scripts"}]},"sidebarNav":{"root":{"name":"Guides","id":"402634","url":"/documentation/402634/guides","headerUrl":"/documentation/402635/guides/overview/getting-started"},"items":[{"name":"Overview","id":"402634/Overview","items":[{"name":"Getting Started","id":"402635","url":"/documentation/402635/guides/overview/getting-started"},{"name":"Why TestCafe?","id":"402631","url":"/documentation/402631/guides/overview/why-testcafe"}]},{"name":"Basic Guides","id":"402634/Basic Guides","items":[{"name":"Install TestCafe","id":"402834","url":"/documentation/402834/guides/basic-guides/install-testcafe"},{"name":"Test Structure","id":"402831","url":"/documentation/402831/guides/basic-guides/test-structure"},{"name":"Element Selectors","id":"402829","url":"/documentation/402829/guides/basic-guides/element-selectors"},{"name":"Test Actions","id":"402833","url":"/documentation/402833/guides/basic-guides/test-actions"},{"name":"Assertions","id":"402837","url":"/documentation/402837/guides/basic-guides/assertions"},{"name":"Client Functions","id":"402832","url":"/documentation/402832/guides/basic-guides/client-functions"},{"name":"Run Tests","id":"402830","url":"/documentation/402830/guides/basic-guides/run-tests"},{"name":"Debug Tests","id":"402835","url":"/documentation/402835/guides/basic-guides/debug-tests"}]},{"name":"Best Practices","id":"402634/Best Practices","items":[{"name":"Best Practices","id":"402836","url":"/documentation/402836/guides/best-practices/best-practices"},{"name":"Speed Up Test Execution","id":"402963","url":"/documentation/402963/guides/best-practices/speed-up-test-execution"},{"name":"Page Model","id":"402826","url":"/documentation/402826/guides/best-practices/page-model"},{"name":"Bootstrap your TestCafe project with create-testcafe","id":"404259","url":"/documentation/404259/guides/best-practices/create-testcafe"}]},{"name":"Intermediate Guides","id":"402634/Intermediate Guides","items":[{"name":"Browsers","id":"402828","url":"/documentation/402828/guides/intermediate-guides/browsers"},{"name":"Mobile Devices, Cloud Browsers and Emulation","id":"403584","url":"/documentation/403584/guides/intermediate-guides/mobile-devices-cloud-browsers-and-emulation"},{"name":"Native Automation Mode","id":"404237","url":"/documentation/404237/guides/intermediate-guides/native-automation-mode"},{"name":"Visual Selector Debugger","id":"404288","url":"/documentation/404288/guides/intermediate-guides/visual-selector-debugger"},{"name":"Run Tests Concurrently","id":"403626","url":"/documentation/403626/guides/intermediate-guides/run-tests-concurrently"},{"name":"Reporters","id":"402825","url":"/documentation/402825/guides/intermediate-guides/reporters"},{"name":"TypeScript and CoffeeScript","id":"402824","url":"/documentation/402824/guides/intermediate-guides/typescript-and-coffeescript"},{"name":"Authentication and Roles","id":"402845","url":"/documentation/402845/guides/intermediate-guides/authentication"},{"name":"Screenshots and Videos","id":"402840","url":"/documentation/402840/guides/intermediate-guides/screenshots-and-videos"},{"name":"API Testing","id":"403971","url":"/documentation/403971/guides/intermediate-guides/api-testing"},{"name":"Hooks","id":"403435","url":"/documentation/403435/guides/intermediate-guides/hooks"},{"name":"Quarantine Mode","id":"403841","url":"/documentation/403841/guides/intermediate-guides/quarantine-mode"},{"name":"Live Mode","id":"403842","url":"/documentation/403842/guides/intermediate-guides/live-mode"},{"name":"Intercept HTTP Requests","id":"402842","url":"/documentation/402842/guides/intermediate-guides/intercept-http-requests"},{"name":"Metadata and Filtering","id":"403436","url":"/documentation/403436/guides/intermediate-guides/metadata-and-filtering"},{"name":"Multiple Browser Windows","id":"402841","url":"/documentation/402841/guides/intermediate-guides/multiple-browser-windows"}]},{"name":"Advanced Guides","id":"402634/Advanced Guides","items":[{"name":"Advanced Selector Techniques","id":"403655","url":"/documentation/403655/guides/advanced-guides/advanced-selector-techniques"},{"name":"Inject Client Scripts","id":"402843","url":"/documentation/402843/guides/advanced-guides/inject-client-scripts"},{"name":"ESM Module Support","id":"404258","url":"/documentation/404258/guides/advanced-guides/esm-module-support"},{"name":"Create Custom Test Actions","id":"404150","url":"/documentation/404150/guides/advanced-guides/custom-test-actions"},{"name":"Fire DOM Events","id":"403219","url":"/documentation/403219/guides/advanced-guides/fire-dom-events"},{"name":"Execute Shell Commands on Startup","id":"403849","url":"/documentation/403849/guides/advanced-guides/execute-shell-commands-on-startup"},{"name":"Test HTTPS Features and HTTP/2 Websites","id":"402839","url":"/documentation/402839/guides/advanced-guides/test-https-features-and-http2-websites"},{"name":"Detect the Client Browser and Platform","id":"402844","url":"/documentation/402844/guides/advanced-guides/detect-the-client-browser-and-platform"},{"name":"Use the TestCafe Docker Image","id":"402838","url":"/documentation/402838/guides/advanced-guides/use-testcafe-docker-image"},{"name":"Built-In Wait Mechanisms","id":"402827","url":"/documentation/402827/guides/advanced-guides/built-in-wait-mechanisms"},{"name":"Replay Chrome User Flow Recordings","id":"403998","url":"/documentation/403998/guides/advanced-guides/chrome-replay-support"}]},{"name":"Experimental Capabilities","id":"403997","url":"/documentation/403997/guides/experimental-capabilities","items":[{"name":"Selector Debugging","id":"403999","url":"/documentation/403999/guides/experimental-capabilities/selector-debugging"}]},{"name":"Continuous Integration","id":"402809","url":"/documentation/402809/guides/continuous-integration","items":[{"name":"Integrate TestCafe with AppVeyor","id":"402823","url":"/documentation/402823/guides/continuous-integration/appveyor"},{"name":"Integrate TestCafe with Azure DevOps","id":"402822","url":"/documentation/402822/guides/continuous-integration/azure-devops"},{"name":"Run Tests in Bitbucket Pipelines","id":"402821","url":"/documentation/402821/guides/continuous-integration/bitbucket-pipelines"},{"name":"Integrate TestCafe With CircleCI","id":"402819","url":"/documentation/402819/guides/continuous-integration/circleci"},{"name":"Run Tests on LambdaTest with CircleCI","id":"402820","url":"/documentation/402820/guides/continuous-integration/circleci-and-lambdatest"},{"name":"Integrate TestCafe with GitHub Actions","id":"402817","url":"/documentation/402817/guides/continuous-integration/github-actions"},{"name":"Run Tests on BrowserStack with GitHub Actions","id":"402818","url":"/documentation/402818/guides/continuous-integration/github-actions-and-browserstack"},{"name":"Integrate TestCafe with GitLab","id":"402816","url":"/documentation/402816/guides/continuous-integration/gitlab"},{"name":"Integrate TestCafe with Jenkins","id":"402815","url":"/documentation/402815/guides/continuous-integration/jenkins"},{"name":"Integrate TestCafe with TeamCity","id":"402847","url":"/documentation/402847/guides/continuous-integration/teamcity"},{"name":"Run Tests in Travis CI","id":"402813","url":"/documentation/402813/guides/continuous-integration/travis"},{"name":"Run Tests on Sauce Labs with Travis CI","id":"402814","url":"/documentation/402814/guides/continuous-integration/travis-and-sauce-labs"}]},{"name":"Extend TestCafe","id":"402634/Extend TestCafe","items":[{"name":"Install Plugins","id":"402811","url":"/documentation/402811/guides/extend-testcafe/install-plugins"},{"name":"Reporter Plugin","id":"402810","url":"/documentation/402810/guides/extend-testcafe/reporter-plugin"},{"name":"Browser Provider Plugin","id":"402812","url":"/documentation/402812/guides/extend-testcafe/browser-provider-plugin"}]}],"activeItems":[{"name":"Docs","id":"Docs","url":"/documentation/402635/guides/overview/getting-started"},{"name":"Guides","id":"402634","url":"/documentation/402634/guides","headerUrl":"/documentation/402635/guides/overview/getting-started"},{"name":"Advanced Guides","id":"402634/Advanced Guides"},{"name":"Inject Client Scripts","id":"402843","url":"/documentation/402843/guides/advanced-guides/inject-client-scripts"}],"showLeafs":true},"breadcrumbsNav":[{"name":"Docs","id":"Docs","url":"/documentation/402635/guides/overview/getting-started"},{"name":"Guides","id":"402634","url":"/documentation/402634/guides","headerUrl":"/documentation/402635/guides/overview/getting-started"},{"name":"Advanced Guides","id":"402634/Advanced Guides"},{"name":"Inject Client Scripts","id":"402843","url":"/documentation/402843/guides/advanced-guides/inject-client-scripts"}],"publishDates":{"teamBlog":[1680566400000,1667260800000,1661904000000,1657584000000,1637107200000,1633564800000,1632268800000,1626220800000,1612828800000,1609113600000,1607644800000,1605657600000,1605571200000,1600905600000,1599091200000,1598400000000,1597968000000,1597795200000,1595980800000,1594684800000,1593475200000,1590364800000,1587340800000],"releaseNotes":[1712188800000,1678147200000,1675036800000,1672272000000,1668038400000,1661904000000,1659916800000,1658102400000,1653523200000,1642464000000,1640131200000,1633132800000,1631059200000,1625702400000,1617753600000,1616371200000,1614729600000,1613347200000,1607990400000,1596672000000,1579219200000,1574294400000,1571184000000,1568246400000,1565136000000,1562284800000,1562025600000,1551312000000,1549497600000,1549497600000,1541548800000,1540425600000,1535932800000,1533168000000,1526342400000,1519862400000,1507593600000,1506643200000,1501632000000,1497312000000,1493164800000,1490659200000,1487203200000,1484784000000,1481155200000,1478563200000,1476662400000]}},"__N_SSG":true},"page":"/documentation/[topicUid]/[...topicTitle]","query":{"topicUid":"402843","topicTitle":["guides","advanced-guides","inject-client-scripts"]},"buildId":"zMtqlLcxbAhUIomS1ZAAj","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-265a51dacb3992e55d6f.js"></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.9560630609611a3e02bc.js" async=""></script><script src="/_next/static/chunks/7c1f26e48d9c1d76d0a84bc721eae1bb8e4026f5.c5ff8e6740f85d8cfa32.js" async=""></script><script src="/_next/static/chunks/main-18eaebfcc26b1f12fe7f.js" async=""></script><script src="/_next/static/chunks/pages/_app-d4a5ace829ed23fe491d.js" async=""></script><script src="/_next/static/chunks/13183c147836e35267ff1d4307193ed944e8c549.441bddd825acfa977748.js" async=""></script><script src="/_next/static/chunks/6559847ccf956d21366ca8101d3daaf2d4c4451f.c8edad4e1a8f2022aa3b.js" async=""></script><script src="/_next/static/chunks/pages/documentation/%5BtopicUid%5D/%5B...topicTitle%5D-60aa84d5d57b6ec44690.js" async=""></script><script src="/_next/static/zMtqlLcxbAhUIomS1ZAAj/_buildManifest.js" async=""></script><script src="/_next/static/zMtqlLcxbAhUIomS1ZAAj/_ssgManifest.js" async=""></script></body></html>